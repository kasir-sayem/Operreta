<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox spacing="10" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="com.operetta.controller.SoapController">
    
    <padding>
        <Insets top="20" right="20" bottom="20" left="20" />
    </padding>
    
    <Label text="Hungarian National Bank SOAP Client" style="-fx-font-size: 20px; -fx-font-weight: bold;" />
    
    <TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE">
        <!-- Download Tab - Download All Data -->
        <Tab fx:id="downloadTab" text="Download">
            <VBox spacing="15" alignment="CENTER">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20" />
                </padding>
                
                <Label text="Download All Exchange Rate Data" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                
                <Label text="Click the button below to download all exchange rate data from the Hungarian National Bank's web service." wrapText="true" />
                
                <Button fx:id="downloadAllButton" text="Download All Data" 
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white;" />
                
                <ProgressIndicator fx:id="downloadProgress" visible="false" />
                
                <Label fx:id="downloadStatusLabel" />
                
                <Label text="The data will be saved to c:/data/Bank.txt" style="-fx-font-style: italic;" />
            </VBox>
        </Tab>
        
        <!-- Download2 Tab - Download Filtered Data -->
        <Tab fx:id="download2Tab" text="Download2">
            <VBox spacing="15">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20" />
                </padding>
                
                <Label text="Download Filtered Exchange Rate Data" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                
                <GridPane hgap="10" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints minWidth="120" prefWidth="150" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>
                    
                    <Label text="Currency:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                    <ComboBox fx:id="currencyComboBox" GridPane.rowIndex="0" GridPane.columnIndex="1" maxWidth="Infinity" />
                    
                    <Label text="Start Date:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                    <DatePicker fx:id="startDatePicker" GridPane.rowIndex="1" GridPane.columnIndex="1" maxWidth="Infinity" />
                    
                    <Label text="End Date:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                    <DatePicker fx:id="endDatePicker" GridPane.rowIndex="2" GridPane.columnIndex="1" maxWidth="Infinity" />
                </GridPane>
                
                <Button fx:id="downloadFilteredButton" text="Download Filtered Data" 
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white;" />
                
                <ProgressIndicator fx:id="downloadFilteredProgress" visible="false" />
                
                <Label fx:id="downloadFilteredStatusLabel" />
                
                <Label text="The data will be saved to c:/data/Bank.txt" style="-fx-font-style: italic;" />
            </VBox>
        </Tab>
        
        <!-- Graph Tab - Visualize Exchange Rates -->
        <Tab fx:id="graphTab" text="Graph">
            <VBox spacing="15">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20" />
                </padding>
                
                <Label text="Exchange Rate Visualization" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                
                <GridPane hgap="10" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints minWidth="120" prefWidth="150" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>
                    
                    <Label text="Currency:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                    <ComboBox fx:id="graphCurrencyComboBox" GridPane.rowIndex="0" GridPane.columnIndex="1" maxWidth="Infinity" />
                    
                    <Label text="Start Date:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                    <DatePicker fx:id="graphStartDatePicker" GridPane.rowIndex="1" GridPane.columnIndex="1" maxWidth="Infinity" />
                    
                    <Label text="End Date:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                    <DatePicker fx:id="graphEndDatePicker" GridPane.rowIndex="2" GridPane.columnIndex="1" maxWidth="Infinity" />
                </GridPane>
                
                <Button fx:id="generateGraphButton" text="Generate Graph" 
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white;" />
                
                <ProgressIndicator fx:id="graphProgress" visible="false" />
                
                <VBox fx:id="chartContainer" VBox.vgrow="ALWAYS">
                    <LineChart fx:id="exchangeRateChart" VBox.vgrow="ALWAYS">
                        <xAxis>
                            <NumberAxis label="Days" />
                        </xAxis>
                        <yAxis>
                            <NumberAxis label="Exchange Rate" />
                        </yAxis>
                    </LineChart>
                </VBox>
            </VBox>
        </Tab>
    </TabPane>
</VBox>